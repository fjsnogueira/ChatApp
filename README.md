code from extracted from the article https://radu-matei.github.io/blog/signalr-core/